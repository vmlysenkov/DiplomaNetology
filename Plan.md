#План автоматизации тестирования
##Перечень автоматизируемых сценариев
**Предусловия. Тестовые данные.**

1. Запустить Docker-контейнер с базой данных MySQL;
2. Запустить SUT командой java -jar aqa-shop.jar на порту 8080;
3. Запустить симулятор командой npm start на порту 9999;

В файле application.properties приведён ряд типовых настроек:

* учётные данные и url для подключения к СУБД
* url-адреса банковских сервисов

Заявлена поддержка двух СУБД:
* MySQL
* PostgreSQL
  
Банковские сервисы:

Симулятор банковских карт расположен в файлах: app.js, package-lock.json, package.json.
Симулятор позволяет для заданного набора карт генерировать предопределённые ответы.
Набор карт представлен в формате JSON в файле data.json.

Набор валидных данных:
1. Номер карты: "4444 4444 4444 4441";
2. Месяц: 01 - 12;
3. Год: от текущего года (22) до года, не превышающего срока 5 лет (27);
4. Владелец: любое ФИО латиницей;
5. CVC/CVV: любое трехзначное число;
### Позитивные проверки:
**1) Оплата тура дебетовой картой с вводом валидных данных**

**Шаги:**
1. Нажать кнопку "Купить";
2. Ввести валидный номер карты в графе "Номер карты";
3. Ввести валидный месяц в графе "Месяц";
4. Ввести валидный год в графе "Год";
5. Ввести валидные данные владельца в графе "Владелец";
6. Ввести валидный номер CVC/CVV в графе "CVC/CVV";
7. Нажать кнопку "Продолжить";

**Ожидаемый результат:**

В БД появляется запись со статусом Accepted. Сценарий покупки тура по дебетовой карте с вводом валидных данных реализован успешно. Появляется сообщения "Успешно! Операция одобрена банком".

**2) Оплата тура кредитной картой с вводом валидных данных**

**Шаги:**
1. Нажать кнопку "Купить в кредит";
2. Ввести валидный номер карты в графе "Номер карты";
3. Ввести валидный месяц в графе "Месяц";
4. Ввести валидный год в графе "Год";
5. Ввести валидные данные владельца в графе "Владелец";
6. Ввести валидный номер CVC/CVV в графе "CVC/CVV"; 
7. Нажать кнопку "Продолжить";

**Ожидаемый результат:**

В БД появляется запись со статусом Accepted. Сценарий покупки тура по кредитной карте с вводом валидных данных реализован успешно. Появляется сообщения "Успешно! Операция одобрена банком".

### Негативные проверки:
**1) Оплата тура дебетовой картой с вводом невалидного номера карты**

**Шаги:**
1. Нажать кнопку "Купить";
2. Ввести невалидный номер карты "4444 4444 4444 4442" в графе "Номер карты";
3. Ввести валидный месяц в графе "Месяц";
4. Ввести валидный год в графе "Год";
5. Ввести валидные данные владельца в графе "Владелец";
6. Ввести валидный номер CVC/CVV в графе "CVC/CVV";
7. Нажать кнопку "Продолжить";

**Ожидаемый результат:**
В БД появляется запись со статусом Declined. 
Сценарий покупки тура по дебетовой карте с вводом невалидного номера карты не может быть реализован.
Выводится сообщение об ошибке "Ошибка! Банк отказал в проведении операции.".

**2) Оплата тура дебетовой картой с вводом месяца, меньше минимального значения**

**Шаги:**
1. Нажать кнопку "Купить";
2. Ввести валидный номер карты в графе "Номер карты";
3. Ввести невалидный месяц "00" в графе "Месяц";
4. Ввести валидный год в графе "Год";
5. Ввести валидные данные владельца в графе "Владелец";
6. Ввести валидный номер CVC/CVV в графе "CVC/CVV";
7. Нажать кнопку "Продолжить";

**Ожидаемый результат:**
Сценарий покупки тура по дебетовой карте с вводом невалидного номера месяца не может быть реализован.
Поле посвечивается красным. Выводится сообщение "Неверно указан срок действия карты.".

**3) Оплата тура дебетовой картой с вводом месяца, превышающего максимальное значение**

**Шаги:**
1. Нажать кнопку "Купить";
2. Ввести валидный номер карты в графе "Номер карты";
3. Ввести невалидный месяц "13" в графе "Месяц";
4. Ввести валидный год в графе "Год";
5. Ввести валидные данные владельца в графе "Владелец";
6. Ввести валидный номер CVC/CVV в графе "CVC/CVV";
7. Нажать кнопку "Продолжить";

**Ожидаемый результат:**
Сценарий покупки тура по дебетовой карте с вводом невалидного номера месяца не может быть реализован.
Поле посвечивается красным. Выводится сообщение "Неверно указан срок действия карты.".

**4) Оплата тура дебетовой картой с вводом года в прошлом**

**Шаги:**
1. Нажать кнопку "Купить";
2. Ввести валидный номер карты в графе "Номер карты";
3. Ввести валидный месяц в графе "Месяц";
4. Ввести невалидный год "21" в графе "Год";
5. Ввести валидные данные владельца в графе "Владелец";
6. Ввести валидный номер CVC/CVV в графе "CVC/CVV";
7. Нажать кнопку "Продолжить";

**Ожидаемый результат:**
Сценарий покупки тура по дебетовой карте с вводом невалидного номера года не может быть реализован.
Поле посвечивается красным. Выводится сообщение "Неверно указан срок действия карты.".

**5) Оплата тура дебетовой картой с вводом года в будущем более, чем на 5 лет**

**Шаги:**
1. Нажать кнопку "Купить";
2. Ввести валидный номер карты в графе "Номер карты";
3. Ввести валидный месяц в графе "Месяц";
4. Ввести невалидный год "28" в графе "Год";
5. Ввести валидные данные владельца в графе "Владелец";
6. Ввести валидный номер CVC/CVV в графе "CVC/CVV";
7. Нажать кнопку "Продолжить";

**Ожидаемый результат:**
Сценарий покупки тура по дебетовой карте с вводом невалидного номера года не может быть реализован.
Поле посвечивается красным. Выводится сообщение "Неверно указан срок действия карты.".

**6) Оплата тура дебетовой картой с вводом цифр в поле "Владелец"**

**Шаги:**
1. Нажать кнопку "Купить";
2. Ввести валидный номер карты в графе "Номер карты";
3. Ввести валидный месяц в графе "Месяц";
4. Ввести валидный год в графе "Год";
5. Ввести невалидные данные владельца "123" в графе "Владелец";
6. Ввести валидный номер CVC/CVV в графе "CVC/CVV";
7. Нажать кнопку "Продолжить";

**Ожидаемый результат:**
Сценарий покупки тура по дебетовой карте с вводом невалидного владельца не может быть реализован.
Поле посвечивается красным. Выводится сообщение "Неверно указан владелец карты.".

**7) Оплата тура дебетовой картой с вводом спецсимволов в поле "Владелец"**

**Шаги:**
1. Нажать кнопку "Купить";
2. Ввести валидный номер карты в графе "Номер карты";
3. Ввести валидный месяц в графе "Месяц";
4. Ввести валидный год в графе "Год";
5. Ввести невалидные данные владельца "!!!" в графе "Владелец";
6. Ввести валидный номер CVC/CVV в графе "CVC/CVV";
7. Нажать кнопку "Продолжить";

**Ожидаемый результат:**
Сценарий покупки тура по дебетовой карте с вводом невалидного владельца не может быть реализован.
Поле посвечивается красным. Выводится сообщение "Неверно указан владелец карты.".

**8) Оплата тура дебетовой картой с вводом данных, которые превышают возможный максимум в поле "Владелец"**

**Шаги:**
1. Нажать кнопку "Купить";
2. Ввести валидный номер карты в графе "Номер карты";
3. Ввести валидный месяц в графе "Месяц";
4. Ввести валидный год в графе "Год";
5. Ввести невалидные данные владельца "odpzlxasfpzbldwokdcqxwsptfdvmlinyvvymxwoubkocjfzgqgvgrbuslchgfjfiapjwnvytfpfxwcdckbrkatpsfpqzqauadcx" (100 символов) в графе "Владелец";
6. Ввести валидный номер CVC/CVV в графе "CVC/CVV";
7. Нажать кнопку "Продолжить";

**Ожидаемый результат:**
Сценарий покупки тура по дебетовой карте с вводом невалидного владельца не может быть реализован.
Поле посвечивается красным. Выводится сообщение "Неверно указан владелец карты.".

**9) Оплата тура дебетовой картой с вводом данных меньше минимума (из спецификации) в поле "Владелец"**

**Шаги:**
1. Нажать кнопку "Купить";
2. Ввести валидный номер карты в графе "Номер карты";
3. Ввести валидный месяц в графе "Месяц";
4. Ввести валидный год в графе "Год";
5. Ввести невалидные данные владельца "F" (1 символ) в графе "Владелец";
6. Ввести валидный номер CVC/CVV в графе "CVC/CVV";
7. Нажать кнопку "Продолжить";

**Ожидаемый результат:**
Сценарий покупки тура по дебетовой карте с вводом невалидного владельца не может быть реализован.
Поле посвечивается красным. Выводится сообщение "Неверно указан владелец карты.".

**10) Оплата тура дебетовой картой с вводом кириллических символов в поле "Владелец"**

**Шаги:**
1. Нажать кнопку "Купить";
2. Ввести валидный номер карты в графе "Номер карты";
3. Ввести валидный месяц в графе "Месяц";
4. Ввести валидный год в графе "Год";
5. Ввести невалидные данные владельца "Вася" в графе "Владелец";
6. Ввести валидный номер CVC/CVV в графе "CVC/CVV";
7. Нажать кнопку "Продолжить";

**Ожидаемый результат:**
Сценарий покупки тура по дебетовой карте с вводом невалидного владельца не может быть реализован.
Поле посвечивается красным. Выводится сообщение "Неверно указан владелец карты.".

**11) Оплата тура дебетовой картой с вводом невалидного CVC/CVV**

**Шаги:**
1. Нажать кнопку "Купить";
2. Ввести валидный номер карты в графе "Номер карты;
3. Ввести валидный месяц в графе "Месяц";
4. Ввести валидный год в графе "Год";
5. Ввести валидные данные владельца в графе "Владелец";
6. Ввести невалидный номер CVC/CVV "01" в графе "CVC/CVV";
7. Нажать кнопку "Продолжить";

**Ожидаемый результат:**
Сценарий покупки тура по дебетовой карте с вводом невалидного CVC/CVV не может быть реализован.
Поле посвечивается красным. Выводится сообщение "Неверный формат".

**12) Оплата тура дебетовой картой с поочередно оставленными пустыми полями**

**Шаги:**
1. Нажать кнопку "Купить";
2. Поле ввода "Номер карты" оставить пустым;
3. Поле ввода "Месяц" оставить пустым;
4. Поле ввода "Год" оставить пустым; 
5. Поле ввода "Владелец" оставить пустым;
6. Поле ввода "CVC/CVV" оставить пустым;
7. Нажать кнопку "Продолжить";

**Ожидаемый результат:**
Сценарий покупки тура по дебетовой карте с вводом пустого поля не может быть реализован.
Поле посвечивается красным. Выводится сообщение "Неверный формат".

**13) - 24)**

Повторить все те же сценарии для кредитной карты.

###Перечень используемых инструментов
1. **IDEA** - среда разработки для написания кода;
2. **Java** - ЯП;
3. **Git/GitHub** - для хранения версий кода;
4. **Selenium** - для UI тестов;
5. **Docker/Docker Compose** - для запуска симулятора;
6. **Gradle, Allure, Report Portal** - для создания отчетности;
7. **Gradle** - для автоматизации сборки и управлением зависимостями;
8. **SQL** - для работы с БД;
###Перечень и описание возможных рисков при автоматизации
* Дополнительная стоимость — на разработку тестов, поддержку,
  запуск и т.д.;
* Повышение требований к уровню тестировщиков — тестировщики
  должны уметь писать автотесты;
* Сложность или невозможность автоматизации;
* Ложные срабатывания;
* Сложность сравнения результатов (ожидаемый/фактический);
###Интервальная оценка с учётом рисков (в часах)
1. Selenium - 12 часов;
2. Docker - 2 часа;
3. SQL - 5 часов;
###План сдачи работ
1. Автотесты и результаты прогона 15 марта;
2. Отчет по автоматизации 20 марта;