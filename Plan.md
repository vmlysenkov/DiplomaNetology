#План автоматизации тестирования
##Перечень автоматизируемых сценариев
**Предусловия. Тестовые данные.**

Приложение расположено в файле aqa-shop.jar и запускается java -jar aqa-shop.jar на порту 8080.

В файле application.properties приведён ряд типовых настроек:

* учётные данные и url для подключения к СУБД
* url-адреса банковских сервисов

Заявлена поддержка двух СУБД:
* MySQL
* PostgreSQL
  
Банковские сервисы:

Симулятор банковских карт расположен в файлах: app.js, package-lock.json, package.json.
Запускается симулятор командой npm start на порту 9999.
Симулятор позволяет для заданного набора карт генерировать предопределённые ответы.
Набор карт представлен в формате JSON в файле data.json.
### Позитивные проверки:
**1) Оплата тура дебетовой картой с вводом валидных данных, база данных MySQL**

**Шаги:**
1. Запустить Docker-контейнер с базой данных MySQL;
2. Запустить SUT командой java -jar aqa-shop.jar;
3. Запустить симулятор командой npm start на порту 9999;
4. Запустить авто-тесты;

**Ожидаемый результат:**

База данных MySQL запускается. Приложение запускается. Сценарий покупки тура по дебетовой карте с вводом валидных данных реализован успешно. Появляется сообщения "Успешно! Операция одобрена банком".

**2) Оплата тура дебетовой картой с вводом валидных данных, база данных PostgreSQL**

**Шаги:**
1. Запустить Docker-контейнер с базой данных PostgreSQL;
2. Запустить SUT командой java -jar aqa-shop.jar;
3. Запустить симулятор командой npm start на порту 9999;
4. Запустить авто-тесты;

**Ожидаемый результат:**

База данных PostgreSQL запускается. Приложение запускается. Сценарий покупки тура по дебетовой карте с вводом валидных данных реализован успешно. Появляется сообщения "Успешно! Операция одобрена банком".

**3) Оплата тура кредитной картой с вводом валидных данных, база данных MySQL**

**Шаги:**
1. Запустить Docker-контейнер с базой данных MySQL;
2. Запустить SUT командой java -jar aqa-shop.jar;
3. Запустить симулятор командой npm start на порту 9999;
4. Запустить авто-тесты;

**Ожидаемый результат:**

База данных MySQL запускается. Приложение запускается. Сценарий покупки тура по кредитной карте с вводом валидных данных реализован успешно. Появляется сообщения "Успешно! Операция одобрена банком".

**4) Оплата тура кредитной картой с вводом валидных данных, база данных PostgreSQL**

**Шаги:**
1. Запустить Docker-контейнер с базой данных PostgreSQL;
2. Запустить SUT командой java -jar aqa-shop.jar;
3. Запустить симулятор командой npm start на порту 9999;
4. Запустить авто-тесты;

**Ожидаемый результат:**

База данных PostgreSQL запускается. Приложение запускается. Сценарий покупки тура по кредитной карте с вводом валидных данных реализован успешно. Появляется сообщения "Успешно! Операция одобрена банком".

### Негативные проверки:
**1) Оплата тура дебетовой картой с вводом невалидного номера карты, база данных MySQL**

**Шаги:**
1. Запустить Docker-контейнер с базой данных MySQL;
2. Запустить SUT командой java -jar aqa-shop.jar;
3. Запустить симулятор командой npm start на порту 9999;
4. Запустить авто-тесты;

**Ожидаемый результат:**
База данных MySQL запускается. Приложение запускается. 
Сценарий покупки тура по дебетовой карте с вводом невалидного номера карты не может быть реализован.
Выводится сообщение об ошибке "Ошибка! Банк отказал в проведении операции.".

**2) Оплата тура дебетовой картой с вводом невалидного номера карты, база данных PostgreSQL**

**Шаги:**
1. Запустить Docker-контейнер с базой данных PostgreSQL;
2. Запустить SUT командой java -jar aqa-shop.jar;
3. Запустить симулятор командой npm start на порту 9999;
4. Запустить авто-тесты;

**Ожидаемый результат:**
База данных PostgreSQL запускается. Приложение запускается.
Сценарий покупки тура по дебетовой карте с вводом невалидного номера карты не может быть реализован.
Выводится сообщение об ошибке "Ошибка! Банк отказал в проведении операции.".

**3) Оплата тура дебетовой картой с вводом несуществующего номера месяца, база данных MySQL**

**Шаги:**
1. Запустить Docker-контейнер с базой данных MySQL;
2. Запустить SUT командой java -jar aqa-shop.jar;
3. Запустить симулятор командой npm start на порту 9999;
4. Запустить авто-тесты;

**Ожидаемый результат:**
База данных MySQL запускается. Приложение запускается.
Сценарий покупки тура по дебетовой карте с вводом невалидного номера месяца не может быть реализован.
Выводится сообщение об ошибке "Ошибка! Банк отказал в проведении операции.".

**4) Оплата тура дебетовой картой с вводом несуществующего номера месяца, база данных PostgreSQL**

**Шаги:**
1. Запустить Docker-контейнер с базой данных PostgreSQL;
2. Запустить SUT командой java -jar aqa-shop.jar;
3. Запустить симулятор командой npm start на порту 9999;
4. Запустить авто-тесты;

**Ожидаемый результат:**
База данных PostgreSQL запускается. Приложение запускается.
Сценарий покупки тура по дебетовой карте с вводом невалидного номера месяца не может быть реализован.
Выводится сообщение об ошибке "Ошибка! Банк отказал в проведении операции.".

**5) Оплата тура дебетовой картой с вводом года в прошлом более, чем на 6 лет, база данных MySQL**

**Шаги:**
1. Запустить Docker-контейнер с базой данных MySQL;
2. Запустить SUT командой java -jar aqa-shop.jar;
3. Запустить симулятор командой npm start на порту 9999;
4. Запустить авто-тесты;

**Ожидаемый результат:**
База данных MySQL запускается. Приложение запускается.
Сценарий покупки тура по дебетовой карте с вводом невалидного номера года не может быть реализован.
Выводится сообщение об ошибке "Ошибка! Банк отказал в проведении операции.".

**6) Оплата тура дебетовой картой с вводом года в прошлом более, чем на 6 лет, база данных PostgreSQL**

**Шаги:**
1. Запустить Docker-контейнер с базой данных PostgreSQL;
2. Запустить SUT командой java -jar aqa-shop.jar;
3. Запустить симулятор командой npm start на порту 9999;
4. Запустить авто-тесты;

**Ожидаемый результат:**
База данных PostgreSQL запускается. Приложение запускается.
Сценарий покупки тура по дебетовой карте с вводом невалидного номера года не может быть реализован.
Выводится сообщение об ошибке "Ошибка! Банк отказал в проведении операции.".

**7) Оплата тура дебетовой картой с вводом года в будущем более, чем на 6 лет, база данных MySQL**

**Шаги:**
1. Запустить Docker-контейнер с базой данных MySQL;
2. Запустить SUT командой java -jar aqa-shop.jar;
3. Запустить симулятор командой npm start на порту 9999;
4. Запустить авто-тесты;

**Ожидаемый результат:**
База данных MySQL запускается. Приложение запускается.
Сценарий покупки тура по дебетовой карте с вводом невалидного номера года не может быть реализован.
Выводится сообщение об ошибке "Ошибка! Банк отказал в проведении операции.".

**8) Оплата тура дебетовой картой с вводом года в будущем более, чем на 6 лет, база данных PostgreSQL**

**Шаги:**
1. Запустить Docker-контейнер с базой данных PostgreSQL;
2. Запустить SUT командой java -jar aqa-shop.jar;
3. Запустить симулятор командой npm start на порту 9999;
4. Запустить авто-тесты;

**Ожидаемый результат:**
База данных PostgreSQL запускается. Приложение запускается.
Сценарий покупки тура по дебетовой карте с вводом невалидного номера года не может быть реализован.
Выводится сообщение об ошибке "Ошибка! Банк отказал в проведении операции.".

**9) Оплата тура дебетовой картой с вводом цифр в поле "Владелец", база данных MySQL**

**Шаги:**
1. Запустить Docker-контейнер с базой данных MySQL;
2. Запустить SUT командой java -jar aqa-shop.jar;
3. Запустить симулятор командой npm start на порту 9999;
4. Запустить авто-тесты;

**Ожидаемый результат:**
База данных MySQL запускается. Приложение запускается.
Сценарий покупки тура по дебетовой карте с вводом невалидного владельца не может быть реализован.
Выводится сообщение об ошибке "Ошибка! Банк отказал в проведении операции.".

**10) Оплата тура дебетовой картой с вводом цифр в поле "Владелец", база данных PostgreSQL**

**Шаги:**
1. Запустить Docker-контейнер с базой данных PostgreSQL;
2. Запустить SUT командой java -jar aqa-shop.jar;
3. Запустить симулятор командой npm start на порту 9999;
4. Запустить авто-тесты;

**Ожидаемый результат:**
База данных PostgreSQL запускается. Приложение запускается.
Сценарий покупки тура по дебетовой карте с вводом невалидного владельца не может быть реализован.
Выводится сообщение об ошибке "Ошибка! Банк отказал в проведении операции.".

**11) Оплата тура дебетовой картой с вводом спецсимволов в поле "Владелец", база данных MySQL**

**Шаги:**
1. Запустить Docker-контейнер с базой данных MySQL;
2. Запустить SUT командой java -jar aqa-shop.jar;
3. Запустить симулятор командой npm start на порту 9999;
4. Запустить авто-тесты;

**Ожидаемый результат:**
База данных MySQL запускается. Приложение запускается.
Сценарий покупки тура по дебетовой карте с вводом невалидного владельца не может быть реализован.
Выводится сообщение об ошибке "Ошибка! Банк отказал в проведении операции.".

**12) Оплата тура дебетовой картой с вводом спецсимволов в поле "Владелец", база данных PostgreSQL**

**Шаги:**
1. Запустить Docker-контейнер с базой данных PostgreSQL;
2. Запустить SUT командой java -jar aqa-shop.jar;
3. Запустить симулятор командой npm start на порту 9999;
4. Запустить авто-тесты;

**Ожидаемый результат:**
База данных PostgreSQL запускается. Приложение запускается.
Сценарий покупки тура по дебетовой карте с вводом невалидного владельца не может быть реализован.
Выводится сообщение об ошибке "Ошибка! Банк отказал в проведении операции.".

**13) Оплата тура дебетовой картой с вводом невалидного CVC/CVV, база данных MySQL**

**Шаги:**
1. Запустить Docker-контейнер с базой данных MySQL;
2. Запустить SUT командой java -jar aqa-shop.jar;
3. Запустить симулятор командой npm start на порту 9999;
4. Запустить авто-тесты;

**Ожидаемый результат:**
База данных MySQL запускается. Приложение запускается.
Сценарий покупки тура по дебетовой карте с вводом невалидного CVC/CVV не может быть реализован.
Выводится сообщение об ошибке "Ошибка! Банк отказал в проведении операции.".

**14) Оплата тура дебетовой картой с вводом невалидного CVC/CVV, база данных PostgreSQL**

**Шаги:**
1. Запустить Docker-контейнер с базой данных PostgreSQL;
2. Запустить SUT командой java -jar aqa-shop.jar;
3. Запустить симулятор командой npm start на порту 9999;
4. Запустить авто-тесты;

**Ожидаемый результат:**
База данных PostgreSQL запускается. Приложение запускается.
Сценарий покупки тура по дебетовой карте с вводом невалидного CVC/CVV не может быть реализован.
Выводится сообщение об ошибке "Ошибка! Банк отказал в проведении операции.".

**15) Оплата тура дебетовой картой с поочередно оставленными пустыми полями, база данных MySQL**

**Шаги:**
1. Запустить Docker-контейнер с базой данных MySQL;
2. Запустить SUT командой java -jar aqa-shop.jar;
3. Запустить симулятор командой npm start на порту 9999;
4. Запустить авто-тесты;

**Ожидаемый результат:**
База данных MySQL запускается. Приложение запускается.
Сценарий покупки тура по дебетовой карте с вводом пустого поля не может быть реализован.
Выводится сообщение об ошибке "Ошибка! Банк отказал в проведении операции.".

**16) Оплата тура дебетовой картой с поочередно оставленными пустыми полями, база данных PostgreSQL**

**Шаги:**
1. Запустить Docker-контейнер с базой данных PostgreSQL;
2. Запустить SUT командой java -jar aqa-shop.jar;
3. Запустить симулятор командой npm start на порту 9999;
4. Запустить авто-тесты;

**Ожидаемый результат:**
База данных PostgreSQL запускается. Приложение запускается.
Сценарий покупки тура по дебетовой карте с вводом пустого поля не может быть реализован.
Выводится сообщение об ошибке "Ошибка! Банк отказал в проведении операции.".

**17) - 32)**

Повторить все те же сценарии для кредитной карты.

###Перечень используемых инструментов
1. **IDEA** - среда разработки для написания кода;
2. **Java** - ЯП;
3. **Git/GitHub** - для хранения версий кода;
4. **Selenium** - для UI тестов;
5. **Docker/Docker Compose** - для запуска симулятора;
6. **Gradle, Allure, Report Portal** - для создания отчетности;
7. **Gradle** - для автоматизации сборки и управлением зависимостями;
8. **SQL** - для работы с БД;
###Перечень и описание возможных рисков при автоматизации
* Дополнительная стоимость — на разработку тестов, поддержку,
  запуск и т.д.;
* Повышение требований к уровню тестировщиков — тестировщики
  должны уметь писать автотесты;
* Сложность или невозможность автоматизации;
* Ложные срабатывания;
* Сложность сравнения результатов (ожидаемый/фактический);
###Интервальная оценка с учётом рисков (в часах)
1. Selenium - 12 часов;
2. Docker - 2 часа;
3. SQL - 5 часов;
###План сдачи работ
1. Автотесты и результаты прогона 15 марта;
2. Отчет по автоматизации 20 марта;